#
# Standard Datadog check with service checks
#

init_config:

instances:
    -   host: localhost
        port: 5432
        username: my_username
        password: my_password
        dbname: postgres

service_checks:
  check_postgres_db:
    - command: /usr/local/bin/check_pg -p 5433 -U dogmonitor -d dogdatastaging -P1234
      tags:
        port: 5433
        db: dogdatastaging
    - command: /usr/local/bin/check_pg -p 5433 -U dogmonitor -d dogdataprod -P1234
      tags:
        port: 5433
        db: dogdataprod
      options:
        timeout: 5

  check_postgres_logs:
    - command: /usr/local/bin/check_postgres_logs -d /data/postgres
      tags:
        directory: /data/postgres

    - command: /usr/local/bin/check_postgres_logs -d /data/postgres2
      tags:
        directory: /data/postgres2
